<md-input-container class="income">
  <span md-prefix>â‚¬&nbsp;</span>
  <input mdInput type="number" min="1" autofocus required placeholder="{{'SALARY'|translate}}"
    [(ngModel)]="options.income" (input)="changeOption()" align="end">
</md-input-container>

<md-sidenav-container>
  <div class="sidenav-content">
    <md-list class="result" *ngIf="items">
      <md-list-item [ngClass]="{'hide': !options[key]}" *ngFor="let key of getKeys(items)">
        <h3 md-line *ngIf="key == 'taxFree'" [ngClass]="{'result-positive': items[key] > 0, 'result-negative': items[key] < 0}">
          {{items[key] | number:0 }}%
        </h3>
        <h3 md-line *ngIf="key != 'taxFree'" [ngClass]="{'result-positive': items[key] > 0, 'result-negative': items[key] < 0}">
          {{items[key] > 0 ? '+' : ''}}{{items[key] | currency:'EUR':true:'1.0-0'}}
        </h3>
        <p md-line><span>{{rename(key)|translate}}</span></p>
      </md-list-item>
    </md-list>
    <button md-fab mdTooltip="{{'OPTIONS'|translate}}" (click)="sidenav.open(); changeOption()">
      <md-icon>add</md-icon>
    </button>
  </div>
  <md-sidenav #sidenav align="start">
    <md-list>
      <md-list-item>
        <label md-line>{{'YEAR'|translate}}:</label>
      </md-list-item>
      <md-list-item class="item-fill-height">
        <md-radio-group [(ngModel)]="options.year" (change)="changeOption()">
          <md-radio-button value="{{year}}" *ngFor="let year of years">{{year}}</md-radio-button>
        </md-radio-group>
      </md-list-item>
      <md-list-item>
        <md-checkbox md-line [(ngModel)]="options.allowance" (change)="changeOption()"
            aria-label="{{'ALLOWANCE_TITLE'|translate}}" title="{{'ALLOWANCE_TITLE'|translate}}">
          {{'ALLOWANCE'|translate}}
        </md-checkbox>
      </md-list-item>
      <md-list-item>
        <md-checkbox md-line [(ngModel)]="options.social" (change)="changeOption()"
            aria-label="{{'SOCIAL_TITLE'|translate}}" title="{{'SOCIAL_TITLE'|translate}}">
          {{'SOCIAL'|translate}}
        </md-checkbox>
      </md-list-item>
      <md-list-item>
        <md-checkbox md-line [(ngModel)]="options.older" (change)="changeOption()"
            aria-label="{{'OLDER_TITLE'|translate}}" title="{{'OLDER_TITLE'|translate}}">
          {{'OLDER'|translate}}
        </md-checkbox>
      </md-list-item>
      <md-list-item>
        <md-checkbox md-line [(ngModel)]="ruling" (change)="changeOption(true)"
            aria-label="{{'RULING_TITLE'|translate}}" title="{{'RULING_TITLE'|translate}}">
          {{'RULING'|translate}}
        </md-checkbox>
      </md-list-item>
      <md-list-item class="item-fill-height">
        <md-radio-group [(ngModel)]="options.ruling" [disabled]="!ruling" (change)="changeOption()">
          <md-radio-button value="research" aria-label="{{'RESEARCH_TITLE'|translate}}" title="{{'RESEARCH_TITLE'|translate}}">
            {{'RESEARCH'|translate}}
          </md-radio-button>
          <md-radio-button value="young" aria-label="{{'YOUNG_TITLE'|translate}}" title="{{'YOUNG_TITLE'|translate}}">
            {{'YOUNG'|translate}}
          </md-radio-button>
          <md-radio-button value="normal" aria-label="{{'NORMAL_TITLE'|translate}}" title="{{'NORMAL_TITLE'|translate}}">
            {{'NORMAL'|translate}}
          </md-radio-button>
        </md-radio-group>
      </md-list-item>
    </md-list>
    <div class="collapsible-item">
      <md-toolbar class="collapsible-heading" (click)="active = !active" [ngClass]="{'collapsible-heading-collapsed': !active, 'collapsible-heading-expanded': active}">
        <button md-icon-button type="button" aria-hidden="false" title="{{'EXPAND'|translate}}">
          <md-icon md-font-library="material-icons" [ngClass]="{'hide': active}">expand_more</md-icon>
          <md-icon md-font-library="material-icons" [ngClass]="{'hide': !active}">expand_less</md-icon>
        </button>
        <h4>{{'ADVANCED'|translate}}</h4>
      </md-toolbar>
      <div class="slide-down" [ngClass]="{'hide': !active}">
        <md-list class="collapsible-content">
          <md-list-item>
            <md-input-container>
              <input mdInput type="number" min="1" max="100" placeholder="{{'HOURS'|translate}}"
                [(ngModel)]="options.hours" (input)="changeOption()" align="end">
            </md-input-container>
          </md-list-item>
          <label>{{'DISPLAY'|translate}}:</label>
          <md-list-item *ngFor="let key of getKeys(items)">
            <md-checkbox class="options" md-line [(ngModel)]="options[key]" (change)="changeOption()">
              {{rename(key)|translate}}
            </md-checkbox>
          </md-list-item>
        </md-list>
      </div>
    </div>
  </md-sidenav>
</md-sidenav-container>
